-- This file has been generated by cocoSim


-- System nodes






node Brake_Cmd_Brake_CmdJunction1448__To__Brake_Cmd_Brake_CmdJunction1454_1_Condition_Action(BRAKE_PRESSURE_MED:int;
	r_1:int)

returns (r:int);


var 	r_2:int;


let



	r_2 
	= BRAKE_PRESSURE_MED;
	

	(r) 
	= (r_2);
	

tel









node Brake_Cmd_Brake_CmdJunction1446__To__Brake_Cmd_Brake_CmdJunction1455_1_Condition_Action(BRAKE_PRESSURE_LO:int;
	r_1:int)

returns (r:int);


var 	r_2:int;


let



	r_2 
	= BRAKE_PRESSURE_LO;
	

	(r) 
	= (r_2);
	

tel






node Brake_Cmd_Brake_CmdJunction1451__To__Brake_Cmd_Brake_CmdJunction1452_1_Condition_Action(pedal:int;
	r_1:int)

returns (r:int);


var 	r_2:int;


let



	r_2 
	= pedal;
	

	(r) 
	= (r_2);
	

tel











node Brake_Cmd_Brake_CmdJunction1450__To__Brake_Cmd_Brake_CmdJunction1453_1_Condition_Action(BRAKE_PRESSURE_MAX:int;
	r_1:int)

returns (r:int);


var 	r_2:int;


let



	r_2 
	= BRAKE_PRESSURE_MAX;
	

	(r) 
	= (r_2);
	

tel



--***************************************************State :Brake_Cmd_Brake_Cmd Automaton***************************************************

node Brake_Cmd_Brake_Cmd_node(idBrake_Cmd_Brake_Cmd_1:int;
	mode:int;
	LO:int;
	BRAKE_PRESSURE_LO:int;
	r_1:int;
	MED:int;
	BRAKE_PRESSURE_MED:int;
	MAX:int;
	BRAKE_PRESSURE_MAX:int;
	pedal:int)

returns (idBrake_Cmd_Brake_Cmd:int;
	r:int);


let

	 automaton brake_cmd_brake_cmd

	state POINTBrake_Cmd_Brake_Cmd:
	unless (idBrake_Cmd_Brake_Cmd_1=0) restart POINT__TO__BRAKE_CMD_BRAKE_CMDJUNCTION1445_1



	let

		(idBrake_Cmd_Brake_Cmd, r) 
	= (idBrake_Cmd_Brake_Cmd_1, r_1);
	

	tel



	state POINT__TO__BRAKE_CMD_BRAKE_CMDJUNCTION1445_1:

	 var 	r_2, r_3, r_4, r_5:int;
	let

		











-- transition trace :
	--POINT__To__Junction1445_1, Junction1445__To__Junction1446_1, Junction1446__To__Junction1455_1, Junction1455__To__Junction1454_1, Junction1454__To__Junction1453_1, Junction1453__To__Junction1452_1, Junction1452__To__Junction1456_1
		-- condition Action : r=BRAKE_PRESSURE_LO;
		
		(r_2) 
	= 
		 if (( mode=LO )) then 
		Brake_Cmd_Brake_CmdJunction1446__To__Brake_Cmd_Brake_CmdJunction1455_1_Condition_Action(BRAKE_PRESSURE_LO, r_1)
		 else (r_1);
		












-- transition trace :
	--POINT__To__Junction1445_1, Junction1445__To__Junction1447_2, Junction1447__To__Junction1448_1, Junction1448__To__Junction1454_1, Junction1454__To__Junction1453_1, Junction1453__To__Junction1452_1, Junction1452__To__Junction1456_1
		-- condition Action : r=BRAKE_PRESSURE_MED;
		
		(r_3) 
	= 
		 if (( mode=MED )) then 
		Brake_Cmd_Brake_CmdJunction1448__To__Brake_Cmd_Brake_CmdJunction1454_1_Condition_Action(BRAKE_PRESSURE_MED, r_1)
		 else (r_1);
		










-- transition trace :
	--POINT__To__Junction1445_1, Junction1445__To__Junction1447_2, Junction1447__To__Junction1449_2, Junction1449__To__Junction1450_1, Junction1450__To__Junction1453_1, Junction1453__To__Junction1452_1, Junction1452__To__Junction1456_1
		-- condition Action : r=BRAKE_PRESSURE_MAX;
		
		(r_4) 
	= 
		 if (( mode=MAX )) then 
		Brake_Cmd_Brake_CmdJunction1450__To__Brake_Cmd_Brake_CmdJunction1453_1_Condition_Action(BRAKE_PRESSURE_MAX, r_1)
		 else (r_1);
		






-- transition trace :
	--POINT__To__Junction1445_1, Junction1445__To__Junction1447_2, Junction1447__To__Junction1449_2, Junction1449__To__Junction1451_2, Junction1451__To__Junction1452_1, Junction1452__To__Junction1456_1
		-- condition Action : r=pedal;
		
		(r_5) 
	= Brake_Cmd_Brake_CmdJunction1451__To__Brake_Cmd_Brake_CmdJunction1452_1_Condition_Action(pedal, r_1);
		

	(idBrake_Cmd_Brake_Cmd, r) 
	= 
		 if (( mode=LO )) then 
		(idBrake_Cmd_Brake_Cmd_1, r_2)
		 else
		 if (( mode=LO )) then 
		(idBrake_Cmd_Brake_Cmd_1, r_2)
		 else
		 if (( mode=MED )) then 
		(idBrake_Cmd_Brake_Cmd_1, r_3)
		 else
		 if (( mode=MED )) then 
		(idBrake_Cmd_Brake_Cmd_1, r_3)
		 else
		 if (( mode=MAX )) then 
		(idBrake_Cmd_Brake_Cmd_1, r_4)
		 else
		 if (( mode=MAX )) then 
		(idBrake_Cmd_Brake_Cmd_1, r_4)
		 else (idBrake_Cmd_Brake_Cmd_1, r_5);


	tel

	until true restart POINTBrake_Cmd_Brake_Cmd



tel


--***************************************************State :Brake_Cmd_Brake_Cmd Automaton***************************************************

node BSCU_Brake_cmd_Brake_Cmd(mode:int;
	pedal:int)

returns (r:int);


var r_1: int;

	idBrake_Cmd_Brake_Cmd, idBrake_Cmd_Brake_Cmd_1: int;

		MAX: int;

		BRAKE_PRESSURE_MED: int;

		MED: int;

		BRAKE_PRESSURE_LO: int;

		LO: int;

		MANUAL: int;

		BRAKE_PRESSURE_MAX: int;

	let

	r_1 = 0 -> pre r;

	idBrake_Cmd_Brake_Cmd_1 = 0 -> pre idBrake_Cmd_Brake_Cmd;

	MAX = 4;

	BRAKE_PRESSURE_MED = 340;

	MED = 3;

	BRAKE_PRESSURE_LO = 170;

	LO = 2;

	MANUAL = 1;

	BRAKE_PRESSURE_MAX = 510;

	



	(idBrake_Cmd_Brake_Cmd, r)
	 = Brake_Cmd_Brake_Cmd_node(idBrake_Cmd_Brake_Cmd_1, mode, LO, BRAKE_PRESSURE_LO, r_1, MED, BRAKE_PRESSURE_MED, MAX, BRAKE_PRESSURE_MAX, pedal);


--unused outputs
	

tel



node BSCU_Brake_cmd (mode_1_1 : int; pedal_1_1 : int)
returns (r_1_1 : int); 
var
	Brake_Cmd_1_1 : int;
	i_virtual_local : real;
let 
	Brake_Cmd_1_1 =  BSCU_Brake_cmd_Brake_Cmd(mode_1_1, pedal_1_1);
	r_1_1 = Brake_Cmd_1_1;
	i_virtual_local= 0.0 -> 1.0;
tel

