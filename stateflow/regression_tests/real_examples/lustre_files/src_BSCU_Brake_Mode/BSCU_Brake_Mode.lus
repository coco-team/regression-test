-- This file has been generated by cocoSim


-- System nodes









node Brake_Mode_Brake_ModeJunction1359__To__Brake_Mode_Brake_ModeJunction1370_1_Condition_Action(MANUAL:int;
	r_1:int)

returns (r:int);


var 	r_2:int;


let



	r_2 
	= MANUAL;
	

	(r) 
	= (r_2);
	

tel






node Brake_Mode_Brake_ModeJunction1363__To__Brake_Mode_Brake_ModeJunction1368_1_Condition_Action(MED:int;
	r_1:int)

returns (r:int);


var 	r_2:int;


let



	r_2 
	= MED;
	

	(r) 
	= (r_2);
	

tel











node Brake_Mode_Brake_ModeJunction1364__To__Brake_Mode_Brake_ModeJunction1366_2_Condition_Action(pre_mode:int;
	r_1:int)

returns (r:int);


var 	r_2:int;


let



	r_2 
	= pre_mode;
	

	(r) 
	= (r_2);
	

tel








node Brake_Mode_Brake_ModeJunction1361__To__Brake_Mode_Brake_ModeJunction1369_1_Condition_Action(LO:int;
	r_1:int)

returns (r:int);


var 	r_2:int;


let



	r_2 
	= LO;
	

	(r) 
	= (r_2);
	

tel






node Brake_Mode_Brake_ModeJunction1365__To__Brake_Mode_Brake_ModeJunction1367_1_Condition_Action(MAX:int;
	r_1:int)

returns (r:int);


var 	r_2:int;


let



	r_2 
	= MAX;
	

	(r) 
	= (r_2);
	

tel



--***************************************************State :Brake_Mode_Brake_Mode Automaton***************************************************

node Brake_Mode_Brake_Mode_node(idBrake_Mode_Brake_Mode_1:int;
	pre_mode:int;
	LO:int;
	rise_lo:bool;
	MED:int;
	rise_med:bool;
	MAX:int;
	rise_max:bool;
	MANUAL:int;
	r_1:int)

returns (idBrake_Mode_Brake_Mode:int;
	r:int);


let

	 automaton brake_mode_brake_mode

	state POINTBrake_Mode_Brake_Mode:
	unless (idBrake_Mode_Brake_Mode_1=0) restart POINT__TO__BRAKE_MODE_BRAKE_MODEJUNCTION1358_1



	let

		(idBrake_Mode_Brake_Mode, r) 
	= (idBrake_Mode_Brake_Mode_1, r_1);
	

	tel



	state POINT__TO__BRAKE_MODE_BRAKE_MODEJUNCTION1358_1:

	 var 	r_2, r_3, r_4, r_5, r_6:int;
	let

		













-- transition trace :
	--POINT__To__Junction1358_1, Junction1358__To__Junction1359_1, Junction1359__To__Junction1370_1, Junction1370__To__Junction1369_1, Junction1369__To__Junction1368_1, Junction1368__To__Junction1367_1, Junction1367__To__Junction1366_1, Junction1366__To__Junction1371_1
		-- condition Action : r=MANUAL;
		
		(r_2) 
	= 
		 if (( ((pre_mode=LO) and rise_lo) or ((pre_mode=MED) and rise_med) or ((pre_mode=MAX) and rise_max) )) then 
		Brake_Mode_Brake_ModeJunction1359__To__Brake_Mode_Brake_ModeJunction1370_1_Condition_Action(MANUAL, r_1)
		 else (r_1);
		














-- transition trace :
	--POINT__To__Junction1358_1, Junction1358__To__Junction1360_2, Junction1360__To__Junction1361_1, Junction1361__To__Junction1369_1, Junction1369__To__Junction1368_1, Junction1368__To__Junction1367_1, Junction1367__To__Junction1366_1, Junction1366__To__Junction1371_1
		-- condition Action : r=LO;
		
		(r_3) 
	= 
		 if (( (pre_mode!=LO) and rise_lo )) then 
		Brake_Mode_Brake_ModeJunction1361__To__Brake_Mode_Brake_ModeJunction1369_1_Condition_Action(LO, r_1)
		 else (r_1);
		












-- transition trace :
	--POINT__To__Junction1358_1, Junction1358__To__Junction1360_2, Junction1360__To__Junction1362_2, Junction1362__To__Junction1363_1, Junction1363__To__Junction1368_1, Junction1368__To__Junction1367_1, Junction1367__To__Junction1366_1, Junction1366__To__Junction1371_1
		-- condition Action : r=MED;
		
		(r_4) 
	= 
		 if (( (pre_mode!=MED) and rise_med )) then 
		Brake_Mode_Brake_ModeJunction1363__To__Brake_Mode_Brake_ModeJunction1368_1_Condition_Action(MED, r_1)
		 else (r_1);
		










-- transition trace :
	--POINT__To__Junction1358_1, Junction1358__To__Junction1360_2, Junction1360__To__Junction1362_2, Junction1362__To__Junction1364_2, Junction1364__To__Junction1365_1, Junction1365__To__Junction1367_1, Junction1367__To__Junction1366_1, Junction1366__To__Junction1371_1
		-- condition Action : r=MAX;
		
		(r_5) 
	= 
		 if (( (pre_mode!=MAX) and rise_max )) then 
		Brake_Mode_Brake_ModeJunction1365__To__Brake_Mode_Brake_ModeJunction1367_1_Condition_Action(MAX, r_1)
		 else (r_1);
		




-- transition trace :
	--POINT__To__Junction1358_1, Junction1358__To__Junction1360_2, Junction1360__To__Junction1362_2, Junction1362__To__Junction1364_2, Junction1364__To__Junction1366_2, Junction1366__To__Junction1371_1
		-- condition Action : r=pre_mode;
		
		(r_6) 
	= Brake_Mode_Brake_ModeJunction1364__To__Brake_Mode_Brake_ModeJunction1366_2_Condition_Action(pre_mode, r_1);
		

	(idBrake_Mode_Brake_Mode, r) 
	= 
		 if (( ((pre_mode=LO) and rise_lo) or ((pre_mode=MED) and rise_med) or ((pre_mode=MAX) and rise_max) )) then 
		(idBrake_Mode_Brake_Mode_1, r_2)
		 else
		 if (( ((pre_mode=LO) and rise_lo) or ((pre_mode=MED) and rise_med) or ((pre_mode=MAX) and rise_max) )) then 
		(idBrake_Mode_Brake_Mode_1, r_2)
		 else
		 if (( (pre_mode!=LO) and rise_lo )) then 
		(idBrake_Mode_Brake_Mode_1, r_3)
		 else
		 if (( (pre_mode!=LO) and rise_lo )) then 
		(idBrake_Mode_Brake_Mode_1, r_3)
		 else
		 if (( (pre_mode!=MED) and rise_med )) then 
		(idBrake_Mode_Brake_Mode_1, r_4)
		 else
		 if (( (pre_mode!=MED) and rise_med )) then 
		(idBrake_Mode_Brake_Mode_1, r_4)
		 else
		 if (( (pre_mode!=MAX) and rise_max )) then 
		(idBrake_Mode_Brake_Mode_1, r_5)
		 else
		 if (( (pre_mode!=MAX) and rise_max )) then 
		(idBrake_Mode_Brake_Mode_1, r_5)
		 else (idBrake_Mode_Brake_Mode_1, r_6);


	tel

	until true restart POINTBrake_Mode_Brake_Mode



tel


--***************************************************State :Brake_Mode_Brake_Mode Automaton***************************************************

node BSCU_Brake_Mode_Brake_Mode(pre_mode:int;
	rise_lo:bool;
	rise_med:bool;
	rise_max:bool)

returns (r:int);


var r_1: int;

	idBrake_Mode_Brake_Mode, idBrake_Mode_Brake_Mode_1: int;

		MAX: int;

		MED: int;

		LO: int;

		MANUAL: int;

	let

	r_1 = 0 -> pre r;

	idBrake_Mode_Brake_Mode_1 = 0 -> pre idBrake_Mode_Brake_Mode;

	MAX = 4;

	MED = 3;

	LO = 2;

	MANUAL = 1;

	



	(idBrake_Mode_Brake_Mode, r)
	 = Brake_Mode_Brake_Mode_node(idBrake_Mode_Brake_Mode_1, pre_mode, LO, rise_lo, MED, rise_med, MAX, rise_max, MANUAL, r_1);


--unused outputs
	

tel



node BSCU_Brake_Mode (pre_mode_1_1 : int; rise_lo_1_1 : bool; rise_med_1_1 : bool; rise_max_1_1 : bool)
returns (r_1_1 : int); 
var
	Brake_Mode_1_1 : int;
	i_virtual_local : real;
let 
	Brake_Mode_1_1 =  BSCU_Brake_Mode_Brake_Mode(pre_mode_1_1, rise_lo_1_1, rise_med_1_1, rise_max_1_1);
	r_1_1 = Brake_Mode_1_1;
	i_virtual_local= 0.0 -> 1.0;
tel

