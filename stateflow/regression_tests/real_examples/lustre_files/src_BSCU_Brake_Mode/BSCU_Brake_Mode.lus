-- This file has been generated by cocoSim


-- System nodes










node Brake_Mode_Brake_ModeJunction223__To__Brake_Mode_Brake_ModeJunction225_1_Condition_Action(MAX:int;
	r_1:int)

returns (r:int);


var 	r_2:int;


let



	r_2 
	= MAX;
	

	(r) 
	= (r_2);
	

tel









node Brake_Mode_Brake_ModeJunction221__To__Brake_Mode_Brake_ModeJunction226_1_Condition_Action(MED:int;
	r_1:int)

returns (r:int);


var 	r_2:int;


let



	r_2 
	= MED;
	

	(r) 
	= (r_2);
	

tel






node Brake_Mode_Brake_ModeJunction217__To__Brake_Mode_Brake_ModeJunction228_1_Condition_Action(MANUAL:int;
	r_1:int)

returns (r:int);


var 	r_2:int;


let



	r_2 
	= MANUAL;
	

	(r) 
	= (r_2);
	

tel







node Brake_Mode_Brake_ModeJunction219__To__Brake_Mode_Brake_ModeJunction227_1_Condition_Action(LO:int;
	r_1:int)

returns (r:int);


var 	r_2:int;


let



	r_2 
	= LO;
	

	(r) 
	= (r_2);
	

tel








node Brake_Mode_Brake_ModeJunction222__To__Brake_Mode_Brake_ModeJunction224_2_Condition_Action(pre_mode:int;
	r_1:int)

returns (r:int);


var 	r_2:int;


let



	r_2 
	= pre_mode;
	

	(r) 
	= (r_2);
	

tel



--***************************************************State :Brake_Mode_Brake_Mode Automaton***************************************************

node Brake_Mode_Brake_Mode_node(idBrake_Mode_Brake_Mode_1:int;
	pre_mode:int;
	LO:int;
	rise_lo:bool;
	MED:int;
	rise_med:bool;
	MAX:int;
	rise_max:bool;
	MANUAL:int;
	r_1:int)

returns (idBrake_Mode_Brake_Mode:int;
	r:int);


let

	 automaton brake_mode_brake_mode

	state POINTBrake_Mode_Brake_Mode:
	unless (idBrake_Mode_Brake_Mode_1=0) restart POINT__TO__BRAKE_MODE_BRAKE_MODEJUNCTION216_1



	let

		(idBrake_Mode_Brake_Mode, r) 
	= (idBrake_Mode_Brake_Mode_1, r_1);
	

	tel



	state POINT__TO__BRAKE_MODE_BRAKE_MODEJUNCTION216_1:

	 var 	r_2, r_3, r_4, r_5, r_6:int;
	let

		













-- transition trace :
	--POINT__To__Junction216_1, Junction216__To__Junction217_1, Junction217__To__Junction228_1, Junction228__To__Junction227_1, Junction227__To__Junction226_1, Junction226__To__Junction225_1, Junction225__To__Junction224_1, Junction224__To__Junction229_1
		-- condition Action : r=MANUAL;
		
		(r_2) 
	= 
		 if (( ((pre_mode=LO) and rise_lo) or ((pre_mode=MED) and rise_med) or ((pre_mode=MAX) and rise_max) )) then 
		Brake_Mode_Brake_ModeJunction217__To__Brake_Mode_Brake_ModeJunction228_1_Condition_Action(MANUAL, r_1)
		 else (r_1);
		














-- transition trace :
	--POINT__To__Junction216_1, Junction216__To__Junction218_2, Junction218__To__Junction219_1, Junction219__To__Junction227_1, Junction227__To__Junction226_1, Junction226__To__Junction225_1, Junction225__To__Junction224_1, Junction224__To__Junction229_1
		-- condition Action : r=LO;
		
		(r_3) 
	= 
		 if (( (pre_mode!=LO) and rise_lo )) then 
		Brake_Mode_Brake_ModeJunction219__To__Brake_Mode_Brake_ModeJunction227_1_Condition_Action(LO, r_1)
		 else (r_1);
		












-- transition trace :
	--POINT__To__Junction216_1, Junction216__To__Junction218_2, Junction218__To__Junction220_2, Junction220__To__Junction221_1, Junction221__To__Junction226_1, Junction226__To__Junction225_1, Junction225__To__Junction224_1, Junction224__To__Junction229_1
		-- condition Action : r=MED;
		
		(r_4) 
	= 
		 if (( (pre_mode!=MED) and rise_med )) then 
		Brake_Mode_Brake_ModeJunction221__To__Brake_Mode_Brake_ModeJunction226_1_Condition_Action(MED, r_1)
		 else (r_1);
		










-- transition trace :
	--POINT__To__Junction216_1, Junction216__To__Junction218_2, Junction218__To__Junction220_2, Junction220__To__Junction222_2, Junction222__To__Junction223_1, Junction223__To__Junction225_1, Junction225__To__Junction224_1, Junction224__To__Junction229_1
		-- condition Action : r=MAX;
		
		(r_5) 
	= 
		 if (( (pre_mode!=MAX) and rise_max )) then 
		Brake_Mode_Brake_ModeJunction223__To__Brake_Mode_Brake_ModeJunction225_1_Condition_Action(MAX, r_1)
		 else (r_1);
		




-- transition trace :
	--POINT__To__Junction216_1, Junction216__To__Junction218_2, Junction218__To__Junction220_2, Junction220__To__Junction222_2, Junction222__To__Junction224_2, Junction224__To__Junction229_1
		-- condition Action : r=pre_mode;
		
		(r_6) 
	= Brake_Mode_Brake_ModeJunction222__To__Brake_Mode_Brake_ModeJunction224_2_Condition_Action(pre_mode, r_1);
		

	(idBrake_Mode_Brake_Mode, r) 
	= 
		 if (( ((pre_mode=LO) and rise_lo) or ((pre_mode=MED) and rise_med) or ((pre_mode=MAX) and rise_max) )) then 
		(idBrake_Mode_Brake_Mode_1, r_2)
		 else
		 if (( ((pre_mode=LO) and rise_lo) or ((pre_mode=MED) and rise_med) or ((pre_mode=MAX) and rise_max) )) then 
		(idBrake_Mode_Brake_Mode_1, r_2)
		 else
		 if (( (pre_mode!=LO) and rise_lo )) then 
		(idBrake_Mode_Brake_Mode_1, r_3)
		 else
		 if (( (pre_mode!=LO) and rise_lo )) then 
		(idBrake_Mode_Brake_Mode_1, r_3)
		 else
		 if (( (pre_mode!=MED) and rise_med )) then 
		(idBrake_Mode_Brake_Mode_1, r_4)
		 else
		 if (( (pre_mode!=MED) and rise_med )) then 
		(idBrake_Mode_Brake_Mode_1, r_4)
		 else
		 if (( (pre_mode!=MAX) and rise_max )) then 
		(idBrake_Mode_Brake_Mode_1, r_5)
		 else
		 if (( (pre_mode!=MAX) and rise_max )) then 
		(idBrake_Mode_Brake_Mode_1, r_5)
		 else (idBrake_Mode_Brake_Mode_1, r_6);


	tel

	until true restart POINTBrake_Mode_Brake_Mode



tel


--***************************************************State :Brake_Mode_Brake_Mode Automaton***************************************************

node BSCU_Brake_Mode_Brake_Mode(pre_mode:int;
	rise_lo:bool;
	rise_med:bool;
	rise_max:bool)

returns (r:int);


var r_1: int;

	idBrake_Mode_Brake_Mode, idBrake_Mode_Brake_Mode_1: int;

		MAX: int;

		MANUAL: int;

		LO: int;

		MED: int;

	let

	r_1 = 0 -> pre r;

	idBrake_Mode_Brake_Mode_1 = 0 -> pre idBrake_Mode_Brake_Mode;

	MAX = 4;

	MANUAL = 1;

	LO = 2;

	MED = 3;

	



	(idBrake_Mode_Brake_Mode, r)
	 = Brake_Mode_Brake_Mode_node(idBrake_Mode_Brake_Mode_1, pre_mode, LO, rise_lo, MED, rise_med, MAX, rise_max, MANUAL, r_1);


--unused outputs
	

tel



node BSCU_Brake_Mode (pre_mode_1_1 : int; rise_lo_1_1 : bool; rise_med_1_1 : bool; rise_max_1_1 : bool)
returns (r_1_1 : int); 
var
	Brake_Mode_1_1 : int;
let 
	Brake_Mode_1_1 =  BSCU_Brake_Mode_Brake_Mode(pre_mode_1_1, rise_lo_1_1, rise_med_1_1, rise_max_1_1);
	r_1_1 = Brake_Mode_1_1;
tel

